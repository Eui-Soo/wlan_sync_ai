clc
clear
close all

SNR=-15:1:18;
FER=zeros(1,length(SNR));
% ai_FER=[0.23479999601840973,...
%  0.6895999908447266,...
%  0.9465000033378601,...
%  0.9927999973297119,...
%  1.0,...
%  1.0,...
%  1.0,...
%  1.0,...
%  1.0,...
%  1.0,...
%  1.0,...
%  1.0];
ai_FER=[0.15950000286102295,...
 0.2791000008583069,...
 0.4404999911785126,...
 0.6133999824523926,...
 0.7702000141143799,...
 0.8763999938964844,...
 0.935699999332428,...
 0.9681000113487244,...
 0.9837999939918518,...
 0.9923999905586243,...
 0.9965000152587891,...
 0.9990000128746033,...
 0.9994000196456909,...
 0.9997000098228455,...
 0.9998999834060669,...
 1.0,...
 1.0,...
 0.9998999834060669,...
 1.0,...
 1.0,...
 1.0,...
 1.0,...
 1.0,...
 1.0,...
 1.0,...
 1.0,...
 1.0,...
 1.0,...
 1.0,...
 1.0,...
 1.0,...
 1.0,...
 1.0,...
 1.0];
for loop=1:length(SNR)
   S=sprintf('wlan_test_conventional_SNR(%d)_v3.mat',SNR(loop));
   load(S)
   err=(con_timing-Test_timing_label_idx);
   for n=1:10000
       if err(n)~=0
           FER(loop)=FER(loop)+1;
       end
   end
   FER(loop)=FER(loop)/10000;
    
end
figure('position',[0 0 450 350])
semilogy(SNR,1-ai_FER,'bo-','linewidth',2)
hold on
semilogy(SNR,FER,'r^-','linewidth',2)
axis([-10 15 1e-3 1])
grid on
legend('Proposed','Conventional')
xlabel('SNR(dB)')
ylabel('False Detection Probability')
xticks([-10:2:15])
% figure(2)
% plot(SNR,ai_FER,'bo-','linewidth',2)
% hold on
% plot(SNR,1-FER,'r^-','linewidth',2)
% axis([-10 15 0 1])
% grid on
% legend('Proposed','Conventional')
% xlabel('SNR(dB)')
% ylabel('Accuracy')
% xticks([-10:2:15])